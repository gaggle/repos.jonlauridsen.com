(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{127:function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.initialState=e.makeStore=e.actionTypes=void 0;var n,o=r(81),a=(n=r(503))&&n.__esModule?n:{default:n},i=r(504);e.actionTypes={FETCHED:"FETCHED",FETCHING:"FETCHING"};e.makeStore=((t=c)=>(0,o.createStore)(i.reducer,t,(0,o.applyMiddleware)(a.default)));const c={data:{repos:{}},dataUrl:t.env.DATA_URL||"http://localhost:3000/static/repos/data.json",fetching:void 0,hasFetchedOnce:!1,lastUpdate:0,requestHistory:[]};e.initialState=c}).call(this,r(126))},298:function(t,e,r){__NEXT_REGISTER_PAGE("/_app",function(){return t.exports=r(299),{page:t.exports.default}})},299:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}return e.default=t,e}(r(108)),o=p(r(0)),a=p(r(302)),i=r(81),c=r(160),s=r(128),u=r(127),l=r(505);function p(t){return t&&t.__esModule?t:{default:t}}r(506);const f=({data:t,hasFetchedOnce:e,requestHistory:r})=>({hasInitialized:e,repos:t.repos,requestHistory:r,createdAt:t.createdAt}),d=(0,s.connect)(f)(({createdAt:t,children:e})=>o.default.createElement(c.page.Layout,{buildDate:t},e));var y=(0,a.default)(u.makeStore,f,t=>({startDataPoll:(0,i.bindActionCreators)(l.dataPoll,t)}))(class extends n.default{static async getInitialProps({Component:t,ctx:e}){return{pageProps:t.getInitialProps?await t.getInitialProps(e):{}}}componentDidMount(){console.debug(`App mounted, isServer=${this.props.isServer}`),this.props.store.dispatch((0,l.dataPoll)())}render(){const{Component:t,pageProps:e,store:r}=this.props;return o.default.createElement(n.Container,null,o.default.createElement(s.Provider,{store:r},o.default.createElement(d,null,o.default.createElement(t,e))))}});e.default=y},302:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,o=(n=r(303))&&n.__esModule?n:{default:n},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}return e.default=t,e}(r(0));function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e,r,n,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function u(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){b(t,e,r[e])})}return t}function b(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var h="undefined"==typeof window,v=function(t){var e=t.makeStore,r=t.initialState,n=t.config,o=t.ctx,a=void 0===o?{}:o,i=n.storeKey,c=function(){return e(n.deserializeState(r),y({},a,n,{isServer:h}))};return h?c():(window[i]||(window[i]=c()),window[i])};e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=y({storeKey:"__NEXT_REDUX_STORE__",debug:!1,serializeState:function(t){return t},deserializeState:function(t){return t}},e),function(r){var n,i,y,g;return i=n=function(n){function o(r,n){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),a=p(this,f(o).call(this,r,n));var i=r.initialState;return e.debug&&console.log("4. WrappedApp.render created new store with initialState",i),a.store=v({makeStore:t,initialState:i,config:e}),a}var i,c,y;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(o,a.Component),i=o,(c=[{key:"render",value:function(){var t=this.props,e=t.initialProps,n=(t.initialState,u(t,["initialProps","initialState"]));return a.default.createElement(r,s({},n,e,{store:this.store}))}}])&&l(i.prototype,c),y&&l(i,y),o}(),b(n,"displayName","withRedux(".concat(r.displayName||r.name||"App",")")),b(n,"getInitialProps",(y=o.default.mark(function n(a){var i,c;return o.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a){n.next=2;break}throw new Error("No app context");case 2:if(a.ctx){n.next=4;break}throw new Error("No page context");case 4:if(i=v({makeStore:t,config:e,ctx:a.ctx}),e.debug&&console.log("1. WrappedApp.getInitialProps wrapper got the store with state",i.getState()),a.ctx.store=i,a.ctx.isServer=h,c={},!("getInitialProps"in r)){n.next=13;break}return n.next=12,r.getInitialProps.call(r,a);case 12:c=n.sent;case 13:return e.debug&&console.log("3. WrappedApp.getInitialProps has store state",i.getState()),n.abrupt("return",{isServer:h,initialState:e.serializeState(i.getState()),initialProps:c});case 15:case"end":return n.stop()}},n,this)}),g=function(){var t=this,e=arguments;return new Promise(function(r,n){var o=y.apply(t,e);function a(t){c(o,r,n,a,i,"next",t)}function i(t){c(o,r,n,a,i,"throw",t)}a(void 0)})},function(t){return g.apply(this,arguments)})),i}}},303:function(t,e,r){t.exports=r(139)},503:function(t,e,r){"use strict";function n(t){return function(e){var r=e.dispatch,n=e.getState;return function(e){return function(o){return"function"==typeof o?o(r,n,t):e(o)}}}}r.r(e);var o=n();o.withExtraArgument=n,e.default=o},504:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResponseEntry=e.reducer=void 0;var n=r(127);e.reducer=((t,e)=>{switch(e.type){case n.actionTypes.FETCHING:return Object.assign({},t,{fetching:!0});case n.actionTypes.FETCHED:const r={fetching:!1,hasFetchedOnce:!0,requestHistory:function(e){let r=t.requestHistory.concat([new o(e||{})]);return r.length>50&&(r=r.slice(1,r.length)),r}(e.response)};return e.data&&(r.data=e.data),Object.assign({},t,r);default:return t}});class o{constructor(t){this.createdAt=new Date,this.status=t.status,this.statusText=t.statusText}}e.ResponseEntry=o},505:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dataPoll=void 0;var n=r(127);e.dataPoll=(()=>async(t,e)=>{console.debug("Starting data poll");const r=await e();return o(t,r.dataUrl)});const o=async(t,e)=>{t({type:n.actionTypes.FETCHING});const r=await fetch(e);console.debug("Got response",e,r.status);const o=()=>{console.error("Failed to parse data",r),t({type:n.actionTypes.FETCHED,response:r})};if(!r.ok)return o();let a;try{a=await r.json()}catch{return o()}console.debug("Got data OK",a),t({type:n.actionTypes.FETCHED,response:r,data:a})}}},[[298,1,0,7]]]);